<div fxFlexFill fxLayout="column">
    <h3 *ngIf="currentGroup">Group {{currentGroup.name}}</h3>
    <mat-tab-group style="padding-right:30px" (selectedTabChange)="onLinkClick($event)">
        <mat-tab [label]="'Settings' | translate">
            <mat-card>
                <form>
                    <div fxLayout="row">
                        <mat-select fxFlex="40" style="margin-top:10px" placeholder="Choose a publication frequency" [(ngModel)]="settingsGroup && settingsGroup.publicationFrequency"
                            name="publicationFrequency" (ngModelChange)="emptyCustomValue()">
                            <mat-option [value]="0">Don't publish</mat-option>
                            <mat-option [value]="15">Every 15 minutes</mat-option>
                            <mat-option [value]="30">Every 30 minutes</mat-option>
                            <mat-option [value]="45">Every 45 minutes</mat-option>
                            <mat-option [value]="60">Every hour</mat-option>
                            <mat-option [value]="120">Every 2 hours</mat-option>
                            <mat-option [value]="180">Every 3 hours</mat-option>
                            <mat-option [value]="240">Every 4 hours</mat-option>
                            <mat-option [value]="300">Every 5 hours</mat-option>
                            <mat-option [value]="360">Every 6 hours</mat-option>
                            <mat-option [value]="720">Every 12 hours</mat-option>
                            <mat-option [value]="1440">Once a day</mat-option>
                        </mat-select>
                        <span fxFlexOffset="2" fxFlex="5" style="margin-top:15px">or</span>
                        <mat-form-field fxFlex="35">
                            <input matInput placeholder="Type a customize value (minutes)" min="0" type="number" [(ngModel)]="settingsGroup && settingsGroup.publicationFrequencyCustom" name="publicationFrequencyCustom"
                                style="text-align:center" (ngModelChange)="emptySelectValue()">
                        </mat-form-field>
                    </div>
                    <div fxLayout="row">
                        <mat-form-field fxFlex="20">
                            <input matInput placeholder="Add your topics" type="text" [(ngModel)]="newTopic" (ngModelChange)="filterSuggestedTopicList()"
                                name="newTopic" [matAutocomplete]="auto">
                            <span *ngIf="error" class="error-message">{{error}}</span>
                        </mat-form-field>
                        <mat-autocomplete #auto="matAutocomplete">
                            <mat-option *ngFor="let suggestedTopic of filteredSuggestedTopicList" [value]="suggestedTopic">
                                {{suggestedTopic}}
                            </mat-option>
                        </mat-autocomplete>
                        <button fxFlex="5" mat-icon-button (click)="addTopic()" style="margin-top:5px">
                            <mat-icon>add</mat-icon>
                        </button>
                        <mat-chip-list *ngIf="settingsGroup" fxFlexOffset="1" fxFlex="75" style="margin-top:10px">
                            <mat-chip *ngFor="let topic of settingsGroup.topicList" style="margin-right:5px">
                                {{topic}}
                                <mat-icon (click)="removeTopic(topic)" style="font-size:16px;cursor:pointer;right: -15px;height: 8px;width: 8px;">close</mat-icon>
                            </mat-chip>
                        </mat-chip-list>
                    </div>
                    <div fxLayout="row" fxLayoutAlign="end" (click)="saveSettings()">
                        <button mat-raised-button>Save</button>
                    </div>
                </form>
        </mat-card>
        </mat-tab>
        <mat-tab [label]="'Suggested posts' | translate">
            <mat-spinner *ngIf="suggestedPostsLoading" style="margin-left:auto; margin-right:auto"></mat-spinner>
            <div *ngIf="!suggestedPostsLoading" >
                <mat-card *ngFor="let post of suggestedPosts" style="margin-bottom:16px">
                    <mat-form-field *ngIf="post.text!==''" placeholder="Address" style="width: 100%">
                        <textarea matInput style="height:100px;">{{post.text}}</textarea>
                    </mat-form-field>
                    <img style="width:50%; margin-left:auto; margin-right:auto;" *ngIf="post.attachments && post.attachments[0] && post.attachments[0].photo" [src]="post.attachments[0].photo.sizes[2].url"/>
                    <div fxLayout="row" fxLayoutAlign="end">
                        <span style="margin-right:8px">
                            {{post.likes.count}}
                            <mat-icon>thumb_up</mat-icon>
                        </span>
                        <span>
                            {{post.reposts.count}}
                            <mat-icon>share</mat-icon>
                        </span>
                    </div>
                </mat-card>
            </div>
        </mat-tab>
    </mat-tab-group>
</div>